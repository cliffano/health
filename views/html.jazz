<!DOCTYPE html>
<html lang="en">
<head>
  <title>Health status</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet"/>
  <style type="text/css">
    div#_container {{
      margin: 30px;
    }}
    th {{
      background-color: #dddddd;
    }}
  </style>
</head>
<body>
  <div id="_container" class="container-fluid">
    <div class="row-fluid">
      <div class="span9 text-center">
        <table class="table table-bordered table-striped table-hover">
          <thead>
            <tr>
              <th>Status</th>
              <th>Name</th>
              <th>URI</th>
              <th>Results</th>
              <th>Duration (ms)</th>
            </tr>
          </thead>
          <tbody>
          {foreach result in results}
            {if result.status eq "ok"}
              <tr class="success">
                <td><i class="icon-ok"></i></td>
            {elif result.status eq "fail"}
              <tr class="error">
                <td><i class="icon-remove"></i></td>
            {elif result.status eq "error"}
              <tr class="error">
                <td><i class="icon-remove"></i></td>
            {else}
              <tr>
                <td><i class="icon-question-sign"></i></td>
            {end}
              <td>{result.name}</td>
              <td>{result.uri}</td>
              <td>
                {if result.errors and result.errors.length gt 0}
                  <span id="{__count}-errors" class="badge badge-important">{result.errors.length} error{if result.errors.length gt 1}s{end}</span>
                  <script type="text/javascript">
                    $('#{__count}-errors').tooltip({{
                      placement: 'bottom',
                      html: 'x'
                    }});
                  </script>
                {elif result.failures and result.failures.length gt 0}
                  <span id="{__count}-failures" class="badge badge-important">{result.failures.length} failure{if result.failures.length gt 1}s{end}</span>

                {elif result.successes and result.successes.length gt 0}
                  <span id="{__count}-successes" class="badge badge-info">{result.successes.length} success{if result.successes.length gt 1}es{end}</span>
                {end}
              </td>
              <td>{result.duration}</td>
            </tr>
          {end}
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <script src="http//ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
  <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
</body>
</html>